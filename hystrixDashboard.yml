server:
  port: ${PORT:0}

spring:
  rabbitmq:
    host: ${vcap.services.p-rabbitmq.credentials.protocols.amqp.host:localhost}
    port: ${vcap.services.p-rabbitmq.credentials.protocols.amqp.port:5672}
    username: ${vcap.services.p-rabbitmq.credentials.protocols.amqp.username:guest}
    password: ${vcap.services.p-rabbitmq.credentials.protocols.amqp.password:guest}
    virtualHost: ${vcap.services.p-rabbitmq.credentials.protocols.amqp.vhost:/}

info:
  component: Hystrix Dashboard
  app:
    name: ${project.name}
    description: ${project.description}
    version: ${project.version}
    group: ${project.groupId}
    artifact: ${project.artifactId}

management:
  context-path: /manage

logging:
  level:
    ROOT: INFO
    io.pivotal.sfdc: INFO
    org.springframework.web: INFO

endpoints:
  restart:
    enabled: true
  shutdown:
    enabled: true

---
spring:
  profiles: local
  instance:
    preferIpAddress: true
    nonSecurePort: ${server.port}
eureka:
  instance:
    preferIpAddress: true
    hostname: hystrixdashboard
    nonSecurePort: ${server.port}
  client:
    registerWithEureka: true
    fetchRegistry: true
    serviceUrl:
      defaultZone: http://${EUREKA_HOST:discovery}:8761/eureka/
# Ribbon Configurations
producer:
  ribbon:
    ServerListRefreshInterval: 5000
ribbon:
  IsSecure: false

security:
  basic:
    enabled: false

management:
  security:
    enabled: false

---
spring:
  profiles: cloud # For deployment in Cloud Foundry
  cloud:
    services:
      registrationMethod: direct
producer:
  ribbon:
    ServerListRefreshInterval: 5000
ribbon:
  IsSecure: false
